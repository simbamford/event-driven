<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>event-driven: iCub Vergence Demo</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">event-driven
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">iCub Vergence Demo </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Control the iCub to verge on a stimulus placed in the center of the field of view.</p>
<h2>Description</h2>
<p>This application demonstrates how the iCub verges on a stimulus placed in the center of the field of view, based on the responses of a set of binocular Gabor filters. The event stream is transmitted from the cameras (/zynqGrabber/vBottle:o) to vPreProcess (/vPreProcess/vBottle:i), that removes salt-and-pepper noise. The filtered stream (/vPreProcess/vBottle:o) is sent to vVergence (/vVergence/vBottle:i), that updates the responses of the filter bank and sends a command to the robot encoders. Events from left and right cameras are superimposed (/vVergence/debug:o) and sent to the yarp viewer (/viewDebug).</p>
<p>The <em>depthgt</em> module is useful for evaluating the performances of the algorithm, but not necessary for the demonstration. It automatically connects to the device (/OpenNI2/depthFrame:o) that exposes depth image from a Kinect sensor (/depthgt/depthim:i) and produces a depth value that can be used as ground truth (/depthgt/gt:o). The depth image (/depthgt/depthim:o) is then sent for visualisation to the yarp viewer (/viewGT).</p>
<p>Here is a visualisation of the instantiated modules and connections.</p>
<div class="image">
<img src="http://robotology.github.io/event-driven/doxygen/images/vVergence.png" alt="vVergence visualization"/>
</div>
<p>If you're going to use this controller for your work, please quote it within any resulting publication: V. Vasco, A. Glover, Y. Tirupachuri, F. Solari, M. Chessa, and Bartolozzi C. Vergence control with a neuromorphic iCub. In IEEE-RAS International Conference on Humanoid Robots (Humanoids), November 2016, Mexico.</p>
<h2>Dependencies</h2>
<p>This application assumes that <a href="http://www.yarp.it/yarprobotinterface.html">yarprobotinterface</a> is running. This application requires <a href="http://wiki.icub.org/wiki/OpenNI2">OpenNI2</a> installed to obtain the ground truth depth image, but it is not necessary for the demonstration.</p>
<h2>How to run the application</h2>
<p>The application assumes you are connected to a <em>yarpserver</em> - see <a href="http://www.yarp.it/">http://www.yarp.it/</a> for basic instructions for using yarp.</p>
<p>Inside the <em>Application</em> folder in the yarpmanager gui, you should see an entry called <em>vVergence</em>. Double click and open it.</p>
<p>Hit the <em>run</em> button and then <em>connect</em> on the yarpmanager gui. You will now see the yarpview windows, displaying events from both camera and the ground truth depth image (if you are using a depth sensor). An additional yarpscope window will open, to visualise the responses of the filter bank. This loads the xml file <em>scope_filtersConf.xml</em>, in the <em>vergenceController</em>, that you can modify according to your needs.</p>
<p>The iCub is not controlled yet. To start the control, open a terminal and type </p><pre class="fragment">    yarp rpc /vVergence/rpctrigger:i
</pre><p>You can send commands to the <em>vergenceController</em>. Type <code>start</code> in the command prompt. You should get the following output: </p><pre class="fragment">    &gt;&gt;start
    Response: "Starting Verging..."
</pre><p>Now the vergence is controlled and the iCub will start verging on the object. Move the object in depth to see the iCub vergence following the taget. You should always see events from left and right cameras superimposed in the yarpview window <em>viewDebug</em>.</p>
<p>When you are done, type <code>reset</code> in the command prompt. This will stop the <em>vergenceController</em>. You should get the following output: </p><pre class="fragment">    &gt;&gt;reset
    Response: "Resetting..."</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 18 2019 10:07:20 for event-driven by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
